[<- К содержанию](readme.md)

### Как происходит ветвление

 Git не хранит данные в виде последовательности изменений, он использует набор снимков (snapshot). Коммит GIT сохраняет ввиде объекта который содержит указатель на снимок (snapshot) подготовленных данных. Этот объект так же содержит имя автора и email, сообщение и указатель на коммит или коммиты непосредственно предшествующие данному (его родителей): отсутствие родителя для первоначального коммита, один родитель для обычного коммита, и несколько родителей для результатов слияния двух и более веток.

 При команде `git commit`, Git вычисляет контрольные суммы каждого подкаталога (в нашем случае, только основной каталог проекта) и сохраняет его в репозитории как объект дерева каталогов. Затем Git создаёт объект коммита с метаданными и указателем на основное дерево проекта для возможности воссоздать этот снимок в случае необходимости.

 Ветка в Git — это простой перемещаемый указатель на один из таких коммитов. По умолчанию, имя основной ветки в Git — master. Как только вы начнёте создавать коммиты, ветка master будет всегда указывать на последний коммит. Каждый раз при создании коммита указатель ветки master будет передвигаться на следующий коммит автоматически.

### Создание новой ветки

`git branch <назыание ветки>` создаст новую ветку, т.е создастся новый указатель на текущий коммит.

Указатель `HEAD` показывает на какой ветке мы находимся. Команда `git branch` только создаёт новую ветку, но не переключает на неё.

`git log --decorate` покажет где находится указатель HEAD.
`git log --oneline --decorate` покажет это в упрощенном виде.

### Переключение веток

`git checkout <ветка>` переключит на нужную ветку.

`git switch <ветка>` сделает то же самое.

Теперь, если сделать еще один коммит, указатель HEAD переместится вместе с той веткой,на которую мы перешли.

Важно запомнить, что при переключении веток в Git происходит изменение файлов в рабочем каталоге. Если вы переключаетесь на старую ветку, то рабочий каталог будет выглядеть так же, как выглядел на момент последнего коммита в ту ветку. Если Git по каким-то причинам не может этого сделать — он не позволит вам переключиться вообще.

`git checkout -b <newbranchname>` при помощи этой команды можно сразу переключиться на созданную ветку.

это то же самое что и:

```
git branch <ветка>
git checkout <ветка>
```

`git switch -c new-branch` или `git switch --create new-branch` сделает то же самое.

`git switch -` вернет к предыдущей извлеченной ветке.

`git log` не показывает историю всех веток по умолчанию, а только ту, на которой мы находимся (ту, на которую указывает указатель HEAD).

`git log <ветка>` покажет историю нужной ветки.

`git log --all` покажет историю всех веток

`git log --oneline --decorate --graph --all` покажет историю коммитов, текущего положения указателей веток и историю ветвления.

[<- назад](working-with-remotes.md)

[вперед ->](basick-branching-merging.md)